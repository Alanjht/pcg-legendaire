<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Énigme 3</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f4f4f9;
        }
        .hidden {
            display: none;
        }
        .enigme-part {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        button {
            padding: 10px 20px;
            border: none;
            background-color: #4CAF50;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
        button:hover {
            background-color: #45a049;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        select {
            padding: 5px;
            font-size: 16px;
            margin: 10px 0;
        }
        input[type="text"] {
            padding: 10px;
            font-size: 16px;
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
    </style>
</head>
<body>

<h1>Énigme 3</h1>

<div class="enigme-part">
    <h2>Partie 1 : Indices</h2>
    <p><strong>Question :</strong> La réponse se situe dans la salle du petit déjeuner. Attention à ce qui saute aux yeux !</p>
    <input type="text" id="questionInput" placeholder="Votre réponse en MAJUSCULES et en anglais">
    <br><br>
    <p><strong>Rébus :</strong></p>
    <img src="gorge.png" alt="Rébus">
    <br>
    <input type="text" id="rebusInput" placeholder="Réponse en anglais en MAJUSCULES">
</div>

<div class="enigme-part">
    <h2>Partie 2 : Texte à trous</h2>
    <p>Complète le texte avec les bonnes réponses :</p>

    <p>Le plan comptable est un outil de 
        <select id="q1">
            <option value="">--Choix--</option>
            <option value="référence">référence</option>
            <option value="gestion">gestion</option>
            <option value="contrôle">contrôle</option>
        </select> des opérations comptables. Son rôle est de fournir un cadre
        <select id="q2">
            <option value="">--Choix--</option>
            <option value="stratégique">stratégique</option>
            <option value="comptable">comptable</option>
            <option value="administratif">administratif</option>
        </select> pour organiser et suivre les mouvements financiers d'une entreprise. Il est essentiel pour garantir la 
        <select id="q3">
            <option value="">--Choix--</option>
            <option value="transparence">transparence</option>
            <option value="confidentialité">confidentialité</option>
            <option value="précision">précision</option>
        </select> des informations financières.
    </p>
</div>

<div class="enigme-part">
    <h2>Partie 3 : Question finale</h2>
    <p><strong>Question :</strong> Quel est le mot caché que tu recherches dans cette énigme ? (Donne ta réponse en MAJUSCULES)</p>
    <input type="text" id="finalAnswer" placeholder="Réponse">
</div>

<button id="submitBtn">Soumettre</button>

<!-- Bouton pour continuer, caché par défaut -->
<button id="nextButton" class="hidden" onclick="window.location.href='final.html'">Passer à l'Énigme Suivante</button>

<script>
    // Vérifier si l'énigme 2 a été réussie avant d'afficher le contenu
    if (!localStorage.getItem('enigme2_reussie')) {
        window.location.href = 'index.html';  // Si l'énigme 2 n'est pas réussie, rediriger vers la première page
    }

    // Validation de la soumission
    document.getElementById('submitBtn').addEventListener('click', function() {
        const questionInput = document.getElementById('questionInput').value.trim();
        const rebusInput = document.getElementById('rebusInput').value.trim();
        const q1 = document.getElementById('q1').value;
        const q2 = document.getElementById('q2').value;
        const q3 = document.getElementById('q3').value;
        const finalAnswer = document.getElementById('finalAnswer').value.trim();

        const correctQuestionAnswer = "BREAKFAST";  // Réponse à la question de la salle
        const correctRebusAnswer = "THROAT";  // Réponse au rébus
        const correctFinalAnswer = "COMPTABLE";  // Mot caché final

        // Vérification des réponses
        if (questionInput.toUpperCase() === correctQuestionAnswer &&
            rebusInput.toUpperCase() === correctRebusAnswer &&
            q1 === "gestion" && 
            q2 === "comptable" &&
            q3 === "transparence" &&
            finalAnswer.toUpperCase() === correctFinalAnswer) {
            // Si toutes les réponses sont correctes, afficher le bouton pour continuer
            document.getElementById('nextButton').classList.remove('hidden');
        } else {
            alert("Une ou plusieurs réponses sont incorrectes. Réessaie !");
        }
    });
</script>

</body>
</html>
